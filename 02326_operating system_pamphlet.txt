


(操作系统)是计算机系统中的一个系统软件，它是这样一些程序模块的集合： 它们能有效地组织和管理计算机系统中的硬件及软件资源，合理地
组织计算机工作流程，控制程序的执行，并向用户提供各种服务功能，使得用户能够灵活、方便、有效地使用计算机，并使整个计算机系统能高效地运行。




作为一种系统软件，操作系统有着与其他软件相比所不同的特征：
1、 并发性，是指在计算机系统中同时存在若干个运行着的程序，从宏观上看，这些程序在同时向前推进。计算机的并发性体现在两个方面：用户程序与用户程序之间并发执行；用户程序与
操作系统程序之间并发执行。

2、 共享性，是指操作系统程序与多个用户程序共用系统中的各种资源。这种共享性是在操作系统控制下实现的。资源的共享性主要针对计算机系统中的如下几项重要资源：中央处理器、内存储器、
外存储器、外部设备。在计算机系统中，对资源的共享一般有两种形式：互斥共享和同时共享。


3、 随机性 





研究操作系统的观点： 
1、 软件的观点
2、 资源管理的观点 
3、 进程的观点 
4、 虚拟器的观点 
5、 服务提供者观点 




操作系统的功能： 
 1、 进程管理(处理器管理)。进程管理主要包括进程控制、进程同步、进程间通信和调度等几方面的内容。
 
 2、 存储管理。 具体包括内存的分配与回收、存储保护和内存扩充三项存储管理功能。
 
 3、 文件管理。 文件管理的任务是有效地支持文件的存储、检索和修改等操作，解决文件的共享、保密和保护问题，以使用户方便、安全地访问文件。
 
 4、 设备管理 
 
 5、 用户接口 
 
 
 
 
 
 除此之外，操作系统还要具备中断处理、错误处理等功能。操作系统的各功能之间并非是完全独立的，它们之间存在着相互依赖的关系。
 
 
 
 
 
 
 
 
 
 
    操作系统的体系结构：
	1、 windows操作系统的体系结构。 windows体系结构是分层的模块系统，主要层次有硬件抽象层HAL、内核、执行体和大量的子系统集合。
	
	2、 UNIX 操作系统的体系结构 。 主要包括硬件、内核、系统调用接口、应用程序。 
	
	3、 Linux 操作系统的体系结构。 Linux 系统有四个主要部分，即内核、shell 、文件系统和用户应用程序。内核、shell和文件系统形成了基本的操作系统结构，它们使得
	用户可以运行程序、管理文件并使用系统。 
	
	4、 Android 操作系统的体系结构。   Android 操作系统分为4层，从高层到低层分别是应用程序层、应用框架层、系统运行库层和Linux内核层。
	
	
	
	
	  操作系统的发展过程包括：手工操作、监控程序(早期批处理)、多道批处理、分时与实时系统、UNIX通用操作系统、个人计算机操作系统、Android操作系统。
	  
	  
	  
	  
	  
	  
	  
	  
	  
	  
	    操作系统分类： 按照用户界面的使用环境和功能特征的不同，一般可以把操作系统分为三种基本类型，即批处理系统、分时系统和实时系统。随着计算机体系结构的发展，
		又出现了许多类型的操作系统，它们是个人操作系统、网络操作系统、分布式操作系统和嵌入式操作系统。 
		
		
		
		
		
		
		
		
		
		 在操作系统设计的过程中主要困难有： 设计复杂程度高、正确性难以保证和研制周期长等问题。 
		 
		 
		 
		 
		 
		 操作系统的设计过程： 
		 1、 功能设计。指的是根据系统的设计目标和使用要求，确定所设计的操作系统应具备哪些功能以及操作系统的类型。
		 2、 算法设计。 指的是根据计算机的性能和操作系统的功能，来选择和设计满足系统功能的算法和策略，并分析和估算其效能。
		 3、结构设计。指的是按照系统的功能和特性要求，选择合适的结构，使用相应结构设计方法将系统逐步地分解、抽象和综合，使操作系统结构清晰、简明、可靠、易读、易修改，
		 而且使用方便，适应性强。
		 
		 
		 
		 
		 
		 操作系统的设计目标：
		 一个高质量的操作系统应具有可靠性(正确性和健壮性)、高效性、易维护性(易读性、易扩充性、易剪裁性、易修改性)、可移植性、安全性和简明性等特征。
		 
		 
		 
		 
		 
		 软件结构研究的(对象)是组成软件的各部分划分的原则以及它们之间的关系，即(软件的构成法则和组合方法)。
		 
		 
		 
		 
		 
		 
		 操作系统结构研究的目标： 
		 1、 系统模块化
		 2、 模块标准化
		 3、 通信规范化 
		 
		 
		 
		 操作系统的结构 ：
		 1、 整体式结构。我们把这种操作系统的结构称之为模块组合结构。它的主要优点是，结构紧密，接口简单直接，系统效率较高。
		 模块组合法(或称无序模块法、模块接口法等)的缺点有： 第一，模块间转接随便，各模块互相牵连，独立性差，系统结构不清晰。
		 第二，数据基本上作为全程量处理，系统内所有模块的任一程序均可对其进行存取和修改，从而造成了各模块间有着更为隐蔽的关系。
		 第三，由于模块组合结构常以大型表格为中心，为保证数据完整性，往往采用全局封中断办法，从而限制了系统的并发性。系统中实际存在的
		 并发生也未能抽象出明确的概念，缺乏鬼哥的描述办法。所以，这种结构的可适应性比较差。
		 
		 2、 层次式结构。层次式结构就是把操作系统的所有功能模块，按功能流图的调用次序，分别将这些模块排列成若干层，各层之间
		 的模块只能是单向依赖或单向调用(如只允许上层或外层模块调用下层或内层模块)关系。
		 
		 
		 3、 微内核(客户/服务器)结构。采用客户/服务器结构模式的典型操作系统有卡内基 梅隆大学研制的Mach操作系统和Windows NT 的早期版本。这种模式的优点在于，它将系统分成若干个
		 小的并且自包含的分支(服务进程),每个分支运行在独立的用户进程中，相互之间通过规范一致的方式接收发送信息而联系起来。这种体系结构的缺陷主要是对于效率的考虑。
		 
		 
		 
		 
		  处理器一般由(运算器、控制器、一系列的寄存器以及高速缓存构成)。其中运算器实现指令中的算术和逻辑运算，是计算机计算的核心。
		  
		  在处理器内通常有两类寄存器：一类称为(用户可见寄存器)；第二类称为(控制和状态寄存器)。通常用户可见寄存器对所有程序都是可用的，由机器语言直接引用。
		  它一般包括数据寄存器(Data Register)、地址寄存器(Address Register)以及条件码寄存器。
		  
		  
		  
		  
		  
		   指令执行的基本过程： 
		   最简单的处理指令方式包括两个步骤：首先，处理器每次从存储器中读取一条指令，并在取指令完成后，根据指令类别自动将程序计数器的值变成下一条指令的地址，通常是
		   自增1；其次，取到的指令被存储在处理器的指令寄存器中，处理器于是解释并执行这条指令。
		   
		   
		   
		   
		   指令大致可以分为五类：(访问存储器指令)，它们负责处理器和存储器之间的数据传送；(I/Q指令)，它们负责处理器和I/O模块之间的数据传送和命令发送；(算术逻辑指令)，
		   有时又称为数据处理指令，用以执行有关数据的算术和逻辑操作；(控制转移指令)，这种指令可以指定一个新的指令的执行起点；(处理器控制指令)，这种指令用于修改处理器状态，
		   改变处理器工作方式等。
		   
		   
		   
		   
		   特权指令和非特权指令：(特权指令)是指在指令系统中那些只能由操作系统使用的指令。这些指令是不允许一般的用户使用的。用户只能使用非特权指令。
		   
		   
		   
		   
		   管态和目态：多数系统将处理器工作状态划分为(管态和目态) 。 前者一般指操作系统管理程序运行的状态，具有较高的特权级别，又称为内核态、特权态(特态)、系统态；
		   后者一般指用户程序运行时的状态，具有较低的特权级别，又称为用户态、普通态(普态)。
		   
		   
		   
		   
		   
		   
		     处理器工作状态的转换： 
			 1、 目态到管态的转换。(其转换的唯一途径是通过中断)。中断响应时交换中断向量，新的中断向量中的PSW的处理器状态位标志为管态。
			 
			 2、管态到目态的转换。可通过设置(PSW指令)修改程序状态字，实现从操作系统向用户程序的转换。
			 
			 
			 
			 
			 
			 
			 
			 
			 
			 
			 
			 
			 
			 
			 
			   存储器的类型：在微型计算机中使用的半导体存储器有若干种不同的类型，但基本上可划分为两类：一种是(读写型的存储器)，另一种是(只读型的存储器)。
			   所谓读写型的存储器，是指可以把数据存入其中任一地址单元，并且可在以后的任何时候把数据读出来，或者重新存入新的数据的一种存储器。另一种是只读型
			   的存储器，只能从其中读取数据，但不能随意地用普通的方法向其中写入数据。通常要向其中写入数据只能用特殊的方法进行。
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   存储器的层次结构：计算机存储系统的设计主要考虑三个问题：(容量、速度和成本)。从整个系统来看，在计算机系统中的层次化的存储体系由寄存器、高速缓存、内存储器、
			   硬盘存储器、磁带机和光盘存储器等装置构成。 
			   
			   
			   
			   I/O结构：在每台外部设备中都配有各自的I/O设备控制器，由I/O设备控制器分别控制各台外部设备的运行。
			   
			   
			   
			   
			   通道是独立于中央处理器的，专门负责数据I/O传输工作的处理单元。
			   
			   DMA技术，即直接存储器访问技术，通过系统总线中的一个独立控制单元 ———— DMA 控制器，自动地控制成块数据在内存和I/O单元之间的传送。
			   
			   
			   缓冲技术是用在外部设备与其他硬件部件之间的一种数据暂存技术，它利用存储器件在外部设备中设置了数据的一个存储区域，称为(缓冲区)。
			   
			   
			   
			   时钟部件的原理：
			   在电路中的晶体振荡器，每隔一定间隔产生固定的脉冲频率，时钟电路中的时钟寄存器依据时钟电路所产生的脉冲数，对时钟寄存器进行加1的工作。
			   时钟的用户可以分为绝对时钟和相对时钟。
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   中断与异常的概念： 中断是指处理器对系统中或系统外发生的异步事件的响应。异步事件是指无一定时序关系的随机发生的事件。(中断是由外部事件引发的，而异常则是由正在执行
			   的指令引发的)。
			   
			   
			   
			   
			   
			   中断与异常的分类：  
			   
			   典型的中断包括： 
			   1、 (时钟中断)，由处理器内部的计时器产生，允许操作系统以一定规律执行函数，如时间片到时、硬件实时钟到时等。
			   2、 (输入输出(I/O)中断)，由I/O 控制器产生，用于通知一个I/O操作的正常完成或者发生的错误。
			   3、 (控制台中断)，如系统操作员通过控制台发出命令等。
			   4、 (硬件故障中断)，如掉电、存储器校验错等硬件故障引起等。
			   
			   异常发生的时间以及位置具有确定性，典型的异常包括：
			   1、 (程序性中断)，在某些条件下由指令执行结果产生，例如算术溢出、被零除、目态程序试图执行非法指令、访问不被允许访问的存储位置、虚拟存储中的缺页等。
			   
			   2、 (访管指令异常)，目的是要求操作系统提供系统服务。
			   
			   
			   
			   几种典型中断的处理：(I/O中断、时钟中断、硬件故障中断、程序性中断和系统服务请求(自愿性中断)等) 
			   
			   
			   
			   系统调用：就是用户在程序中调用操作系统所提供的一些子功能。
			   
			   系统调用的分类：
			   1、 进程控制类系统调用。
			   2、 文件操作类系统调动。
			   3、 进程通信类系统调用。
			   4、 设备管理类系统调用 
			   5、 信息维护类系统调用 
			   
			   
			   
			   
			   
			   
			   
			   程序的顺序执行的特点：
			   1、 顺序性 
			   2、 封闭性 
			   3、  程序执行结果的(确定性)
			   4、 程序执行结果的(可再先性)
			   
			   
			   
			   
			   程序的并发执行的特点： 
			   1 、 在执行期间并发程序相互制约。
			   2、 程序与计算不再一一对应。
			   3、 并发程序的执行结果不可再现。
			   4、 程序的并行执行与程序的并发执行。
			   
			   
			   
			   
			   多道程序设计环境具有以下特点：(独立性、随机性、资源共享性)。
			   
			   
			   多道程序设计的缺陷：
			   1、 可能延长程序的执行时间
			   2、 系统效率的提高有一定限度。
			   
			   
			   
			   
			   
			   进程的定义：进程是具有一定独立功能的程序在某个数据集合上的一次运行活动，是系统进行资源分配和调度的一个独立单元。(程序是静态的，而进程是动态的)。
			   
			   
			   进程的特征：
			   1、 并发性  
			   2、 动态性 
			   3、 独立性 
			   4、 交往性 
			   5、 异步性 
			   6、 结构性。  一个进程由(程序、数据和进程控制块)三部分组成。 
			   
			   
			   
			   
			   
			   
			   
			   
			   
			    三状态进程模型：
				1、 (运行状态)，是指进程已获得处理器，并且在处理器上执行的状态。显然，在一个单处理器系统中，最多只有一个进程处于运行态。
				
				2、 (就绪状态)，是指一个进程已经具备运行条件，但由于没有获得处理器而不能运行所处的状态。一旦把处理器分配给它，该进程就可运行。处于就绪状态的进程可以是多个。
				3、(等待状态)，也称为阻塞状态或封锁状态，是指进程因等待某种事件发生而暂时不能运行的状态。 
				
				三种基本状态之间的转换：(就绪->运行、运行->就绪、运行->等待、等待->就绪)。 
				
				
				
				
				
				
				
				 进程控制块的内容可以分成(调度信息)和(现场信息)两大部门。
				 
				 进程由程序、数据和进程控制块三部分组成。 
				 
				 PCB组织方式：线性方式、索引方式、链接方式。
				 
				 进程的队列： 就绪队列、等待队列、运行队列。
				 
				 
				 
				 
				 用于进程控制的原语一般有：创建进程、撤销进程、挂起进程、激活进程、阻塞进程、唤醒进程以及改变进程优先级等。
				 
				 
				 
				 在 NUIX 类操作系统中，父进程通过调用fork函数创建子进程。典型的步骤如下：
				 1、 为子进程分配一个空闲的proc结构(即进程描述符)
				 2、 赋予子进程唯一的标识PID。
				 3、 以一次一页的方式复制父进程用户地址空间。
				 4、 获得子进程继承的共享资源的指针，如打开的文件和当前工作目录等。
				 5、 子进程就绪，加入调度队列。
				 6、 对子进程返回标识符0；向父进程返回子进程的PID。 
				 
				 
				 
				 线程的定义：在引入线程的操作系统中，(线程)是进程中的一个实体，是处理器调度和分派的基本单位。
				 
				 
				 线程实现机制：(用户级线程、内核级线程、混合实现方式)。
				 
				 
				 
				 
				 (进程调度的主要功能)：记录系统中所有进程的执行状况；根据一定的调度算法，从就绪队列中选出一个进程，准备把处理器分配给它；把处理器分配给进程。
				 
				 
				 进程调度的时机：
				 1、 正在执行的进程运行完毕。
				 2、 正在执行的进程由于某种错误而终止。
				 3、 时间片用完，即有一个进程从运行状态变为就绪状态。
				 4、 正在执行的进程调用阻塞原语将自己阻塞起来，即一个进程从运行状态进入阻塞状态。
				 5、 创建了新的进程，即有一个新的进程进入就绪队列。
				 6、 正在执行的进程调用了唤醒原语操作激活了等待资源的进程，即一个等待状态的进程变为就绪状态。
				 
				 
				 
				 进程调度算法：
				 1、 先来先服务算法
				 2、 最短进程优先算法。
				 3、 最短剩余时间优先算法。
				 4、最高响应比优先算法。 响应比Rp=(等待时间+预计运行时间)/预计运行时间=周转时间/预计运行时间。
				 5、 轮转算法。
				 6、 最高优先级算法。
				 7、 多级反馈队列算法。该法综合了先进先出调度算法、时间片轮转算法和可抢占式最高优先级算法的一种进程调度算法。 
				 
				 
				 
				 
				 
				  一般把操作系统中提供支持系统运行的各种基本操作和基础功能的一组程序模块集中安排，形成一个操作系统的核心，称为系统核心或系统内核，简称内核。
				  
				  
				  通常，内核只占操作系统代码中的一小部分，内核是操作系统总最接近裸机的部分。
				  
				  
				  
				  
				  相关进程和无关进程：在逻辑上具有某种联系的进程称为(相关进程)，在逻辑上没有任何逻辑的进程称为(无关进程)。
				  并发进程相互之间可能是无关的，也可能是相关的。
				  
				  
				  
				  
				  
				  (进程的同步)：是指进程之间一种直接的协同工作关系，一些进程相互合作，共同完成一项任务。
				  
				  
				  (进程的互斥):在系统中，许多进程常常需要共享资源，而这些资源往往要求排他性的使用，即一次只能为一个进程服务，因此，各进程间只能互斥
				  使用这些资源，进程间的这种关系就是进程的互斥。
				  
				  
				  
				  (临界区)：若在系统中某些资源一次只允许一个进程使用，则这类资源成为临界资源或共享变量，而在进程中访问临界资源的程序称为临界区。
				  
				  
				  
				  
				  
				  
				  如果有若干进程共享某一临界区，则该临界区称为(相关临界区)。
				  
				  
				  系统对相关临界区的调度使用原则归纳如下：
				  1、 当临界区为空时，若有一个进程要求进入临界区，应允许它立即进入临界区————有空让进。
				  
				  
				  
				  
				  2、 若有一个进程已在临界区时，其他要求进入临界区的进程必须等待————无空等待。
				  
				  3、 当没有进程在临界区，而同时有多个进程要求进入临界区，只能让其中之一进入临界区，其他进程必须等待————多中择一。
				  
				  
				  4、 任一进程进入临界区的要求应在有限时间满足————有限等待。
				  
				  5、 处于等待状态的进程应放弃占用处理器————让权等待。
				  
				  
				  
				  
				  
				  
				  
				  
				  
				  (信号量)是一种特殊的变量，它的表面形式是一个整型变量附加一个队列；而且，它只能被特殊的操作(即P操作和V操作)使用。P操作和V操作都是原语。 
				  
				  
				  设信号量为S，S可以取不同的整数值。对信号量S实施的P操作和V操作，可分别用P(S)和V(S)表示。
				  
				  
				  
				  
				  P操作和V操作定义：
				  P(S)
				  {
				  S=S-1;
				  若S<0,将该进程状态置为等待状态，然后将该进程的PCB插入相应的S信号量等待队列末尾,直到有其他进程在S上执行V操作为止；
				  }
				  V(S)
				  {
				  S=S+1;
				  若S<=0;释放在S信号量队列中等待的一个进程，将其状态改变为就绪态，并将其插入就绪队列；然后，执行本操作的进程继续执行；
				  }
				  
				  
				  
				  
				   用P、V操作实现进程之间的互斥：
				   假设有进程A、B竞争进入临界区，用P、V操作实现进程之间的互斥的程序可以写成 ：
				   
				   进程A         进程B
				   P(S);           P(S);
					临界区操作;     临界区操作;
				   V(S);            V(S);
					其中，S的初值为1  
					
					
					
					
					
					
					
					
					
					
					
					
					
					用P、V操作实现进程之间的同步：
					考虑一种同步关系，其中有两个信号量S1和S2，赋予它们的初值均为0，S1表示在一个缓冲区中是否装满信息，S2表示该缓冲区中信息是否取走。程序可写成： 
					
					
					进程A        					进程B 
					 ...           					...
					 while(true){					while(true){
					 ...  							...  
					把信息送入缓冲区;			    P(S1); 
					V(S1);						    把信息送入缓冲区;
					P(S2);                           V(S2);
					 ...                             ...
					 };                              };
					 ...                              ... 
					 
					 
					 
					 
					 
					 
					 
					 
					 经典的进程同步问题：
					 1、 简单生产者————消费者问题
					 2、 多个生产者————消费者问题
					 3、 读者————写者问题 
					 
					 
					 
					 
					 
					 
					 
					 管程的概念及组成：
					 一个管程是一个由过程、变量及数据结构等组成的一个集合，它们组成一个特殊的模块或软件包。一个管程由四个部分组成，
					 它们是管程名称、共享数据的说明、对数据进行操作的一组过程和对共享数据赋初值的语句。
					 
					 
					 
					 管程具有三个主要的特性：模块化、抽象数据类型、信息隐蔽。
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 解决进程之间的大量信息通信的问题有三类方案：(共享内存、消息机制以及通过共享文件进行通信，即管道通信)。
					 1、 共享内存 
					 2、 消息机制。 包括信息缓冲通信、信箱通信和管道通信。
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 (死锁)是指在多道程序系统中的一种现象，一组进程中的每一个进程均无限期地等待被该组进程中的另一个进程所占有且永远不会释放的资源。
					 系统发生这种现象称为系统处于死锁状态，简称死锁。处于死锁状态的进程称为(死锁进程)。 
					 
					 
					 
					 
					 
					 
					 
					 
					  死锁产生的原因：
					  1、 (竞争资源)，系统资源在分配时出现失误，进程间对资源的相互争夺而造成僵局。 
					  死锁是若干进程因使用资源不当而造成无法推进的现象。按照资源的使用性质，一般把系统中的资源分为两类:(永久性资源(可重用资源)), 是指系统中可供进程
					  重复使用、长期存在的资源，如内存、外部设备、处理器等硬件资源，以及各种数据文件、表格、共享程序代码等软件资源；(临时性资源(消耗性资源)),是指由
					  某个进程所产生、只为另一个进程使用一次或经过短暂时间后便不再使用的资源。以上两种资源都可能导致死锁发生。 
					  
					  2、 多道程序运行时，进程推进顺序不合理。 
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  死锁产生的必要条件：
					  1、 互斥条件
					  2、 不可剥夺条件
					  3、 请求和保持条件
					  4、 循环等待条件 
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  解决死锁的方法：预防死锁、避免死锁、检测与接触死锁、忽略死锁。
					  
					  
					  
					  
					  (死锁预防)是指在任何系统操作前(例如分配资源、调度进程等)，事先评估系统的可能情况，严格采取措施使得死锁的四个必要条件不成立。死锁预防的基本思想是防范于
					  未然。
					  
					  
					  
					  
					  
					  
					  
					  预防死锁的策略：
					  1、 资源的静态分配策略
					  2、 资源的有序分配法：采用资源有序分配策略，其基本思想是将系统中所有资源顺序编号。一般原则是，较为紧缺、稀少的资源的编号较大。进程申请资源时，
					  必须严格按照资源编号的顺序进行，否则系统不予分配。即一个进程只有得到编号小的资源，才能申请编号较大的资源；释放资源时，应按编号递减的次序进行。
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  (死锁避免的基本思想)是：系统对进程发出的每一个系统能够满足的资源申请进行动态检查，并根据检查结果决定是否分配资源；如果分配后系统可能发生死锁，则不予分配，
					  否则予以分配。这是一种保证系统不进入死锁状态的动态策略。
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  安全状态与不安全动态：安全状态是指：如果存在一个由系统所有进程构成的安全序列{P1,...Pn},则系统处于安全状态。一个进程序列{P1,...,Pn}是安全的，如果
					  对于其中每一个进程Pi(1<=i<=n),它以后尚需要的资源量不超过系统当前剩余资源量与所有进程Pj(j<i)当前占有资源量之和。系统处于安全状态则(不会发生死锁)。如果
					  不存在任何一个安全序列，则系统处于(不安全状态)。不安全状态不一定导致死锁，但死锁状态一定是不安全状态。即系统若处于不安全状态则可能发生死锁。
					  
					  
					  
					  银行家算法：
					  最著名的死锁避免算法是有Dijkstra等人提出来的银行家算法。操作系统按照银行家的规定为进程分配资源，进程首先提出对资源的最大需求量，当进程在执行中每次申请
					  资源时，系统测试该进程已占用的资源与本次申请的资源数之和是否超过了该进程对资源的最大需求量。若超过则拒绝分配资源，若没有超过，则系统再测试系统现存的资源
					  能否满足该进程尚需的最大资源量，若能满足则按当前的申请量分配资源，否则也要推迟分配。这样做，能保证在任何时刻至少有一个进程可以得到所需要的全部资源而执行
					  结束，执行结束后归还的资源加入到系统的剩余资源中，这些资源又至少可以满足另一个进程的最大需求，于是，可以保证系统中所有进程都能在有限的时间内得到需要的全部
					  资源。
					  
					  
					  
					  
					  
					  (死锁检测的时机)：通常，死锁检测可以在任何一次资源分配后，也可以在每次调度后，或者利用定时器定时运行检测，还有一种方法是当系统中某个进程长期位于
					  阻塞态或阻塞进程过多时，启动死锁检测程序。
					  
					  
					  (死锁检测的算法)：死锁检测的算法依不同的系统而不同。
					  
					  
					  死锁的解除方法：
					  1、 剥夺资源。经常使用的方法有：还原算法，即恢复计算结果和状态；建立检查点主要是用来恢复分配前的状态。
					  2、 撤销进程。撤销死锁进程，将它们占有的资源分配给另一些死锁进程，直到死锁解除为止。
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  资源分配图：
					  资源分配图是一张有向图，一个系统资源分配图SRAG可定义为一个二元组，即SRAG=(V,E),其中V是
					  顶点的集合，而E是有向边的集合。
					  
					  
					  死锁定理：
					  1、 如果资源分配图中没有环路，则系统没有死锁
					  2、 如果资源分配图中出现了环路，则系统中可能存在死锁。
					  
					  一、如果处于环路中的每个资源类中均只包含一个资源实例，则环路的存在即意味着死锁的存在。此时，环路是死锁的充分必要条件 
					  
					  二、如果处于环路中的每个资源类中资源实例的个数不全为1，则环路的存在是产生死锁的必要条件而不是充分条件
					  
					  
					  
					  资源分配图化简方法：
					  1、 在资源分配图中，找出一个既非等待又非孤立的进程节点Pi，由于Pi可获得它它所需要的全部资源，且运行完后释放它所占有的全部资源，
					  故可在资源分配图中消去Pi所有的申请边和分配边，使之成为既无申请边又无分配边的孤立节点。
					  
					  
					  2、 将Pi所释放的资源分配给申请它们的进程，即在资源分配图中将这些进程对资源的申请边改为分配边。
					  
					  3、 重复1、2 两步骤，直到找不到符合条件的进程结点。
					  
					  
					  经过化简后，若能消去资源分配图中的所有边，使所有进程都成为孤立结点，则该图是完全化简的；否则为不可化简的。 
					  
					  
					  
					  (哲学家加餐问题)是操作系统中关于进程同步与互斥的经典问题，也是涉及死锁的关键问题。
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  (内存空间)，是由存储单元(字节或字)组成的一维连续的地址空间，简称内存空间。内存空间一般分为两部分：一部分是(系统区)，用以存储
					  操作系统驻内存部分，用户不能占用这部分空间；另一部分是(用户区)，分配给用户使用，用于装入并存储用户程序和数据，这部分的信息随时都在发生
					  变化。存储管理实质上就是管理供用户使用的那部分空间。
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  内存分配有两种方式：
					  1、 (静态分配)，程序要求的内存空间是在目标模块连接装入内存时确定并分配的，并且在程序运行过程中不允许再申请或在内存中"搬家"，即
					  分配工作是在程序运行前一次性完成。
					  
					  2、 (动态分配)：程序要求的基本内存空间是在目标模块装入时确定并分配的，但是在程序运行过程中允许申请附加的内存空间或在内存中"搬家"，即分配
					  工作可以在程序运行前及运行过程中逐步完成。
					  
					  
					  
					  
					  存储共享：
					  是指两个或多个进程公用内存中相同区域，这样不仅能使多道程序动态地共享内存，提高内存利用率，而且还能共享内存中某个区域的信息。共享的内容包括代码
					  共享和数据共享，特别是代码共享要求代码必须是纯代码。
					  
					   存储共享的一个目的是通过代码共享节省内存空间，提高内存利用率；另一个目的是通过数据共享实现进程通信。
					   
					   存储保护的内容包括：保护系统程序区不被用户有意或无意的侵犯；不允许用户程序读写不属于自己地址空间的数据，如系统区地址空间、
					   其他用户程序的地址空间。
					   
					   
					   
					   
					   (地址重定位)：把逻辑地址转换成绝对地址的工作称"地址重定位"或"地址转换"，又称为"地址映射"。重定位的方式可以有"静态重定位"和 
					   "动态重定位" 。 
					   
					   (静态重定位)：内存在装入程序时，要把程序中指令地址和数据地址全部转换成绝对地址。由于地址转换工作是在程序开始执行前集中完成的，
					   所以在程序执行过程中就无须再进行地址转换工作，这种地址转换方式称"静态重定位" 
					   
					   
					   (动态重定位)：内存在装入程序时，不进行地址转换，而是直接把程序装入到分配的内存区域中。在程序执行过程中，每当执行一条指令时都由硬件
					   的地址转换机构将指令中的逻辑地址转换成绝对地址。这种方式的地址转换是在程序执行时动态完成的，故称为"动态重定位"
					   
					   
					   
					   
					   
					   
					   
					   
					   固定分区是指系统先把内存划分成若干个大小固定的分区，一旦划分好，在系统运行期间便不再重新划分。为了满足不同程序的存储要求，
					   各分区的大小可以不同。由于每一分区的大小是固定的，就对可容纳程序的大小有所限制。因此，程序运行时必须提供对内存资源的(最大申请量)
					   
					   
					   
					   
					   (可变分区)是指系统不预先划分固定分区，而是在装入程序时划分内存分区，使为程序分配的分区的大小正好等于该程序的需求量，且分区的个数是可变的。
					   显然，可变分区有较大的灵活性，较之固定分区能获得较好的内存利用率。

						 系统初启后，在内存中除操作系统区之外，其余空间为一个完整的大空闲区。当有程序要求装入内存运行时，系统从该空闲区中划分出一块与程序大小相同
						 的区域进行分配。当系统运行一段时间后，随着一系列的内存分配和回收。原来的一整块大空闲区形成了若干占用区和空闲区相间的布局。
						 若有上下相邻的两块空闲区，系统应将它们合并成为一块连续的大空闲区。
						 
						 
						 
						 紧缩技术：
						 解决碎片问题的办法是在适当时刻进行碎片整理，通过移动内存中的程序，把所有空闲碎片合并成一个连续的大空闲区且放在内存的一端，而把所有程序
						 占用区放在内存的另一端。这一技术称为"紧缩技术"或"压缩技术"。
						 
						 
						 (内存分配表)由两张表格组成。一个是(已分配区表)，记录已装入的程序在内存中占用分区的起始地址和长度，用标志位指出占用分区的程序名。
						 另一个是(空闲区表)，记录内存中可供分配的空闲区的起始地址和长度，用标志位指出该分区是未分配的空闲区。
						 
						 
						 
						 
						  操作系统查找和分配空闲区的三种分配算法：
						  1、 (最先适应算法),又称顺序分配算法，当接到内存申请时，顺序查找分区说明表，找到第一个满足申请长度的空闲区，
						  将其分割并分配。此算法简单，可以快速做出分配决定。
						  2、 (最优适应算法),当接到内存申请时， 查找分区说明表，找到第一个能满足申请长度的最小空闲区，将其分割并分配。
						  此算法最节约空间，因为它尽量不分割大的空闲区；其缺点是可能会形成很多很小的空闲区域，称作碎片。
						  
						  3、 (最坏适应算法)，当接到内存申请时，查找分区说明表，找到能满足申请要求的最大的空闲区。该算法的基本思想是： 
						  在大空闲区中装入信息后，分割剩下的空闲区相对也很大，还能用于装入其他程序。
						  
						  
						  
						  分区管理方案的优缺点：
						  分区管理是实现多道程序设计的一种简单易行的存储管理技术。通过分区管理，内存真正成为了共享资源，有效地利用了处理器和
						  I/O设备，从而提高了系统的吞吐量和缩短了周转时间。分区存储管理算法比较简单，所采用的表格不多，实现起来比较容易，
						  内存额外开销较少，存储保护措施也很简单。
						  
						  
						   在内存利用率方面，可变分区的内存利用率比固定分区高。 
						   
						     分区管理的主要缺点是，内存使用仍不充分，并且存在着较为严重的碎片问题。虽然可以解决碎片问题，但需要移动大量信息，浪费了处理器时间。
							 此外，分区管理不能为用户提供"虚存"，即不能实现对内存的"扩充"，每一个用户程序的存储要求仍然受到物理存储器实际存储容量的限制。
							 分区管理要求运行程序一次全部装入内存之后，才能开始运行。这样，内存汇总可能包含有一些实际不使用的信息。 
							 
							 
							 
							 
							 
							 
							 
							 
							 
							   (覆盖技术)是指一个程序的若干程序段，或几个程序的某些部分共享一个存储空间。覆盖技术的实现是吧程序划分为若干个功能上相对独立的程序段，
							   按照其自身的逻辑结构使那些不会同时执行的程序段共享同一块内存区域。未执行的程序段先保存在磁盘上，当有关程序段的前一部分执行结束后，
							   把后续程序段调入内存，覆盖前面的程序段。
							   
							   
							   (交换技术又称为对换技术)。在分时系统中，用户的进程比内存能容纳的数量要多，这就需要在磁盘上保存那些内存放不下的进程。
							   在需要运行这些进程时，再将它们装入内存。
							   
							   在实际操作系统中使用交换技术需考虑的问题：换出进程的选择、交换时机的确定、交换空间的分配、换入进程换回内存时位置的确定。
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   (虚拟存储技术的基本思想)是利用大容量的外存在扩充内存，产生一个比有限的实际内存空间大得多的、逻辑的虚拟内存空间，简称虚存，
							   以便能够有效地支持多道程序系统的实现和大型程序运行的需要，从而增强系统的处理能力。
							   
							   
							   (页式存储管理思想首先由英国曼彻斯特大学提出)，并在该校的Atlas计算机上使用。该技术近年来已广泛用于计算机系统中，支持页式存储
							   管理的硬件部件通常称为"存储管理部件"
							   
							   
							   
							   
							   
							   
							   
							   页表：
							   页表提出该程序虚拟地址中的页号与所占用的物理页面号之间的对应关系。页表的长度由程序拥有的页面数而定，故每个程序的页表长度可能是不同的。
							   
							   
							   页表又是硬件进行地址转换的依据，每执行一条指令时按虚拟地址中的页号查页表。若页表中无此页号，则产生一个"地址错"的程序性中断
							   事件。若页表中有此页号，则可得到对应的物理页面号，按计算公式可转换成访问的内存的物理地址。
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   页表的分类：
							   1、 (多级页表)：大多数操作系统中采用二级页表，即由页表页和页目录一起构成进程页表。第一级表示页目录，
							   保存页表页的地址；第二级表示页表页，保存物理页面号。
							   
							   
							   2、 (散列页表)：当地址空间大于32位时，一种常见的方法是使用以页号为散列值的散列页表。其中每个表项都包含三个字段:
							   a、虚拟页号   b、所映射的页框号   c、指向链表中下一个元素的指针。 
							   
							   3、 (反置页表)：在反置页表中，每个物理页框对应一个表项。每个表项包含与改页框相对应的虚拟页面地址，以及拥有该页面进程的信息。
							   因此，整个系统中只存在一个页表，并且每个页框对应其中一个表项。由于一方面系统中只有一个页表，而另一方面系统中又存在着
							   多个映射着物理内存的地址空间，因此需要在反置页表中存放地址空间标志符。 
							   
							   
							   
							   
							   
							   
							     转换检测缓冲区(TLB):利用高速缓冲存储器存储房钱访问最频繁的少数活动页面的页号，这个高速缓冲存储器称为(转换检测缓冲区)，
								 也称为(快表) 
								 
								 
								 
								 
								 缺页异常处理过程：
								 1、 根据当前执行指令中的逻辑地址查页表的有效位，判断该页是否存在内存。 
								 
								 2、  该页标志为"0",形成缺页异常。保留现场，中断装置通过交换PSW让操作系统的中断处理程序占用处理器。
								 
								 3、 操作系统处理缺页异常，寻找一个空闲的页面。
								 
								 4、 若有空闲页，则把磁盘上读出的信息装入该页面中。
								 
								 
								 
								  5、 修改页表及内存分配表，表示该页已在内存。
								  
								  6、 如果内存中无空闲页，则按某种算法选择一个已在内存的页面，把它暂时调出内存。若在执行中该页面已被修改过，
								  则要把该页信息重新写回到磁盘上，否则不必重新写回磁盘。当一页被暂时调出内存后，让出的内存空间用来存储当前需要
								  使用的页面。页面被调出或装入之后都要对页表及内存分配表作修改。
								  
								  
								  7、 恢复现场，重新执行被中断的指令。当重新执行该指令时，由于要访问的页面已被装入内存，所以可正常执行下去。 
								  
								  
								  
								  
								  
								  
								  
								   页面调度策略： 
								     虚拟存储器系统通常定义三种策略来规定如何(或何时)进行页面调度：(调入策略————请求调页和预调页)、(置页策略)
					                和(置换策略————固定分配局部换、可变分配全局置换和可变分配局部置换) 。
									
									
									
									 页面置换算法： 
									 
									  1、 理想页面置换算法(OPT)
									  
									  2 、 先进先出页面置换算法(FIFO)
									  
									  3、 第二次机会页面置换算法
									  
									  4、  时钟页面置换算法(Clock)
									  
									  
									  5、 最近最少使用页面置换算法(LRU)
									  
									  
									  
									  影响缺页率的因素：
									  1、 分配给程序的物理页面数。
									  
									  2、 页面的大小 
									  
									  3、 程序编制方法
									  
									  4、 页面调度算法 
									  
									  
									  虚拟页式存储管理的优缺点：
									    虚拟页式存储管理的主要优点是，由于它不要求进程的程序段和数据在内存中连续存放，从而有效地解决了碎片问题。
										这既提高了内存的利用率，又有利于组织多道程序执行。
										
										
										虚拟页式存储管理的主要缺点是，存在页面空间的浪费问题。这是由于各种程序代码的长度是各不相同的，但页面的大小是固定的，
										所以在每个程序的最后一页内总有一部分空间得不到利用。如果页面较大，则由此引起的存储空间的损失仍然较大。
										
										
										
										
										
										
										
										
										
										
										
										(文件)可以被解释为一组带标识的、在逻辑上有完整意义的信息项的序列。
										
										
										(文件名)是用户在创建文件时确定的，并在以后访问文件时使用。文件名通常由用户给定，它是一个字母数字串，
										有些系统规定必须是英文字母大头且允许一些其他的符号出现在文件名的非打头部分。
										
										
										
										
										文件系统： 
										
										 (文件系统)是操作系统中统一管理信息资源的一种软件。它管理文件的存储、检索、更新，提供安全可靠的共享和保护手段，
										 并且方便用户使用。其功能有： 
										 1、 统一管理文件的存储空间，实施存储空间的分配与回收 
										 2、 实现文件从名字空间到外存地址空间的映射。即实现文件的按名存取，以对用户透明的方式管理名字空间。
										 
										 
										 3、 实现文件信息的共享，并提供文件的保护和保密措施。
										 
										 4、  向用户提供一个方便使用的接口(提供对文件系统操作命令，以及提供对文件的操作命令：信息存取、加工等)。
										 
										 
										 5、 系统维护及向用户提供有关信息。
										 
										 6、 保持文件系统的执行效率。   文件系统在操作系统接口中占的比例最大，用户使用操作系统的感觉在很大程度上取决于对文件系统的使用效果。
										 
										 7、 提供与I/O 的统一接口 
										 
										 
										 
										 
										 
										 外存储设备的特点： 
										 在计算机系统中，外存储设备同内存相比较，一般有(容量大、断点后仍可保存信息、速度较慢、成本较低)等特点。
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 文件常用的存取方法有：(顺序存取)和(随机存取)两种方式。
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 文件的分类： 
										 1、 按文件的用途分类： (系统文件、库函数文件、用户文件)
										 2、 按文件的组织形式分类：(普通文件、目录文件、特殊文件) 
										 3、 一些常见的文件分类方式：
										 一、 按文件的保护方式可划分为： 只读文件、读写文件、可执行文件、无保护文件等。
										 二、 按信息的流向分类可划分为： 输入文件、输出文件和输入输出文件等。
										 三、 按文件的存放时限可划分为：临时文件、永久文件和档案文件等。临时文件，即记有临时性信息的文件；
										 永久性文件，即其信息需要长期保存的文件；档案文件，即保存在作为"档案"用的磁带或光盘等永久性介质上，
										 以备查证和恢复时使用的文件。
										 
										 
										 四、 按文件所使用的介质类型分类可划分为： 磁盘文件、磁带文件、卡片文件和打印文件等。
										 五、 按文件的组织结构分类 
										 4、 UNIX类操作系统中文件的分类： 
										 一、 普通文件。这是内部无结构的一串平滑的字符所组成的文件
										 二、 目录文件。这是由文件目录项所构成的文件
										 三、 特殊文件。在UNIX类操作系统中，把I/O 设备也看成是一种文件————特殊文件。
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										设计文件逻辑结构的原则：(易于操作、查找快捷、修改方便、空间紧凑)  


											 文件的逻辑结构： 文件的逻辑结构就是用户所看到的文件的组织形式。可以按逻辑结构分为三类:(无结构的字符流式文件、
											 定长记录文件和不定长记录文件构成的记录树)。 定长记录文件和不定长记录文件可以统称为记录式文件。 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											  文件的物理结构： 
											  1、 (顺序结构)，又称连续结构，这是一种最简单的文件物理结构，它把逻辑上连续的文件信息依次存放在连续
											  编号的物理块中。
											  
											  2、 (链接结构)，文件的链接结构的实质就是为每个文件构造所使用磁盘块的链表。使用这种链表结构的文件，
											  将逻辑上连续的文件分散存储在若干不连续的物理块中。
											  
											  3、 (索引结构), 索引结构的文件把每个物理盘块的指针字，集中存储在称为索引表的数据结构中的内存索引表中。
											  
											  
											  
											  
											  
											(文件控制块的内容)：文件名、文件号、用户名、文件地址、文件长度、文件类型、文件属性、共享计数、文件的建立日期、
											 保存期限、最后修改日期、最后访问日期、口令、文件逻辑结构、文件物理结构，等等。 
											 
											 
											 
											 (文件目录),在操作系统中，为了管理大量的文件，为每个文件都设置一个描述性数据结构————文件控制块，
											 把所有文件的文件控制块有机地组织起来，就构成了文件控制块的一个有序集合，称为文件目录。
											 
											 根据实际的需要，一般把文件目录设计成一级(单级)目录结构、二级目录结构和多级目录结构。
											 
											 
											 
											 
											 
											 
											 (目录项)：当用户建立一个新文件时，与该文件有关的一些信息与属性记录在该文件的文件控制块内。
											 为了便于管理，通常将文件控制块做成定长数据结构的一个记录，存储在目录文件中。
											 而这样的每一个记录称为目录项。 
											 
											 
											 (目录文件):多个文件的文件控制块集中在一起组成了文件的目录。通常，文件目录以文件的形式保存起来，
											 这个文件就被称为目录文件。目录文件是每项记录长度固定的记录式文件。 
											 
											 
											 
											 
											 
											 为加快目录检索可采用(目录项分解法),即把目录项分为两部分,符号目录项(次部)和基本目录项(主部).其中，
											 符号目录项包含文件名以及相应的文件号；而基本目录项包含了除文件名外文件控制块的其他全部信息。  
											 
											 
											 
											  FAT文件系统总共欧三个版本：(FAT-12 、 FAT-16 和 FAT-32) 取决于用多少二进制位表示磁盘块地址。
											  
											  
											  
											  
											  
											  
											  
											 磁盘空间的分配回收算法： 
												1、 (位示图)，该法的基本思想是，利用一串二进制位(bit)的值来反映磁盘空间的分配使用情况。
												
												2、 (空闲块表) 。 空闲块表是专门为空闲块建立的一张表，该表记录外存储器全部空闲的物理块：包括每个空闲块的第一个空闲物理块号
												和该空闲块中空闲物理块的个数。  
												
												3、 (空闲块链表)。 将外存储器中所有的空闲物理块连成一个链表，用一个空闲块首指针向第一个空闲块，随后的每个空闲块中都含有指向
												下一个空闲块的指针 ，最后一块的指针为空，表示链尾，这样就构成了一个空闲块链表。
												
												
												
												
												
												空闲块成组链接法： 
												对链接表的一个改进方案是将n个空闲盘块的地址存储在第一个空闲块中。其余n-1个空闲盘块是实际空闲的。假设每100个
												空闲块为一组。第一组的100个空闲块块号放在第二组的头一块中，而第二组的其余99块是完全空闲的。第二组的100个块号又放在第三组
												的头一块中，依次类推，组与组之间形成链接关系。在最后一组的块号中第2个单元填"0",表示该块中指出的块号是最后一组的块号，空闲块链到
												此结束。在这个空闲块链中，不足100块的一个组的块号，通常放在内存的一个专用快中。这种方式称为成组链接。 
												
												
												
												
												当用户申请打开一个文件时，系统要在内存中为该用户保存一些必要的信息，这些信息以表格栏目中内容的形式出现，被称为(表目)
												
												
												
												
												
												
												
												
												
												
												在内存中所需的重要表目有如下内容:(系统打开文件表、用户打开文件表)
												
												
												
												
												
												
												
												
												 建立文件的具体步骤如下： 
												 1、 检查参数的合法性。文件名是否符合命令规则，若是，则进行下一步2 ；否则报错，返回。
												 2、 检查同一目录下有无重名文件。若没有，则进行下一步3；否则报错，返回。
												 3、 在目录中有无空闲位置。若有，则进行下一步4；否则，不成功返回。有的系统可能要为此文件申请数据块空间(申请一部分
												 或一次性全部申请)
												 4、 填写目录项内容。包括文件名、用户名、存取权限、长度置零，首地址等。
												 5、 返回 
												 
												 
												 
												 指针定位时，系统主要完成以下工作：
												 1、 由fd检查用户打开文件表，找到对应的入口  
												 2、 将用户打开文件表中文件读写指针位置设为新指针的位置，供后继读写命令存取该指针处文件内容。
												 
												 
												 磁盘高速缓存的基本思想：
												 系统在内存中保存一些磁盘块，这些磁盘块在逻辑上属于磁盘，内存的这一区域被称为块高速缓存。运行时，系统检查所有的读请求，
												 看所需的文件块是否在块高速缓存中。如果在，则可直接在内存中进行读操作；否则，首先要启动磁盘，将所需块读到高速缓存中，
												 再复制到其他内存区域。如果内存中的高速缓存已满，则需要按照一定的算法淘汰一些较少使用的磁盘块，让出块高速缓存空间。
												 
												 
												 
												 
												 
												 (文件的共享)是指一个文件可以允许多个用户共同使用。文件共享不仅是完成共同任务所必须，而且还带来许多好处：节省
												 文件所占用的存储空间；免除系统复制文件的工作；减少用户大量重复性劳动；减少实际输入输出文件的次数。此外，利用文件
												 共享可以实现进程间相互通信。 
												 
												 
												 
												 从共享的时间段上看，共享文件的使用有两种情况：（文件可以同时使用、文件不允许同时使用）
												 
												 
												 
												  在文件共享的具体方式上，有三种文件的共享形式：
												  1、 文件被多个用户使用，由存取权限控制。
												  2、 文件被多个程序使用，但分别用自己的读写指针。
												  3、 文件被多个程序使用 ， 但共享读写指针。
												   
												   
												   
												   
												   
												   
												   
												   
												   
												   常用的文件保密的措施：
												   规定文件的使用权限在一定程度上可起到文件保密的作用，但是文件的使用权限可由用户设定或修改，因而
												   单规定文件的使用权限不能达到文件保密的目的。常用的文件保密的措施还有以下几种：
												   一、 隐蔽文件目录  
												   二、 设置口令 
												   三、 使用密码 
												   四、 病毒防范  
												   
												   
												   
												   
												   
												   
												   
												   
												   
												  输入输出设备(I/O设备)也称为外部设备(Peripheral)，  有时简称为设备或外设，包括计算机系统中
												  除CPU和内存储器以外的所有的设备和装置，例如各种外部存储设备。在不同的上下文中，I/O 设备一词有广义和狭义 
												  两种含义，广义的I/O设备即上述定义，狭义的I/O设备不包括外存设备。 
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  I/O 设备管理的任务： 
												  1、 I/O 设备的性能经常成为系统性能的瓶颈。CPU性能越强,I/O 设备性能桶CPU 性能不匹配的反差也就越大。 
												  如何解决这一矛盾是I/O设备管理的一项重要任务，操作系统主要通过缓冲技术、中断技术和虚拟技术来解决这一问题。 
												  
												  
												  
												  2、 I/O 设备千变万化，对它们实现统一的管理，从而方便用户使用，是I/O 设备管理的另一项重要任务。 
												  
												  3、 用户对I/O设备的使用必须是安全的。对于设备的使用者而言，由设备传送或管理的数据应该是安全和保密的，
												  不能破坏或泄露；对于设备的拥有者而言，多用户多任务环境中的设备使用应该通过协调避免冲突，设备不能被破坏。
												  如何保证安全正确地使用设备，也是设备管理的重要任务。 
												  
												  
												  
												  
												  I/O 设备分类： 
												  1、 按设备的使用特性分类，I/O设备可分为输入设备、输出设备、交互式设备、存储设备等。 
												  
												  2、 若以系统中信息组织方式来划分设备，可把I/O设备划分为字符设备和块设备。 
												  
												  3、 按设备使用可共享性分类，可分为独占设备、共享设备和虚拟设备等。 
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  I/O 硬件组成： 从硬件的角度看，I/O硬件由物理设备和电子部件两部分组成。物理设备是达成I/O硬件功能的物质基础，
												  对操作系统而言更注重的是其电子部件的控制方式。 
												  
												  
												  
												  
												  
												  I/O 软件组成： 一般的I/O软件结构分为四层：中断处理程序，设备驱动程序，设备独立的操作系统软件和用户级软件(指在
												  用户空间的I/O软件 )。 从功能上看，设备独立层是I/O 软件的主要部分；从代码量上看，设备驱动层是I/O 软件的主要部分。  
												  
												  
												  
												  
												  
												  
												  
										I/O 设备的控制方式： 
											1、 程序控制方式。   也称为PIO(Programmed I/O,程控I/O) 方式，是指由用户进程直接控制处理器或内存和外围设备之间
											进行信息传送的方式，也称为"忙-等"方式、轮询方式或循环测试方式，这种方式的控制者是用户进程。 
											
											2、 中断控制方式。  中断控制方式的处理过程如下： 
											   一、 处理器通过数据总线发出命令，启动外设工作，当前进程阻塞，调度程序调度其他进程 。 
											   
											   二、  外设数据准备好，置位中断请求触发器 。 
											   
											   
											     三、 若此时接口中断屏蔽触发器状态为非屏蔽状态，则接口向处理器发中断请求(IR)  
												 
												 
												 四、 处理器接受中断请求 ， 且中断为允许中断状态，则中断判优电路工作 。 
												 
												 
												 五、 中断判优电路对优先级最高的中断请求给予响应(INTA),处理器中断正在执行的其他进程，转而执行中断
												 服务程序。 
												 
												 
												 
												 
											3、 DMA控制方式。 DMA 方式的数据块传送过程可分为三个阶段：传送前预处理、数据传送、传送后处理。 

											4、   通道控制方式。 按照信息交换方式的不同，一个系统中可以设立三种类型的通道，即选择通道、数组多路通道和字节多路通道。 
											
											
											
											
											
											
											
											
											
											
											
											
											
											
											在设备分配算法的实现中，常采用的数据结构主要含四张表，即系统设备表、设备控制表、控制器控制表和通道控制表。 
											
											
											
											设备分配的总原则是： 要充分发挥设备的使用效率，尽可能地让设备忙碌，但又要避免由于不合理的分配方法造成进程死锁。 
											
											
											
											
											
											
											
											
											
											独占设备的分配方法： 
											
											 设备的绝对号与相对号、设备的指定方式、独占型设备的分配和释放。 
											 
											 
											 
											 
											 共享设备使用的具体方法： 
											 
											 1、 申请设备。 如设备被占用，进入设备等待队列，否则分配设备。
											 2、 启动设备。  I/O传输  
											 3、 释放设备。  当设备结束，发出中断信号时，系统唤醒一个等待设备的进程。 
											 
											 
											 
											 
											 
											 
											 
											 
											 信息传输时间: 
											 1、寻找时间 ———— 磁头在移动臂带动下移动到指定柱面所花的时间。 
											 2、 延迟时间————指定扇区旋转到磁头下所需的时间。 
											3、 传送时间———— 由磁头进行读写完成信息传送的时间     


														常用的移臂调度算法有： 先来先服务算法、最短寻找时间优先算法、电梯调度算法和
														单向扫描算法 。  
														
														
														
														
														
														
											根据系统设置的缓冲区的个数，可把缓冲技术分为: 单缓冲、双缓冲和多缓冲以及缓冲池等几种。 












		在缓冲池中，有四种工作缓冲区： 
		1 、  用于收容设备输入数据的收容输入缓冲区hin 
		2、 用于提取设备输入数据的提取输入缓冲区sin  
		3、  用于收容处理器输出数据的收容输出缓冲区hout  
		4、  用于提取处理器输出数据的提取输出缓冲区sout  
		
		
		
		
		
		
		
		虚拟设备技术，又称为SPOOLing 技术，是多道程序设计系统中处理独占I/O 设备的一种方法，它可以提高设备利用率并缩短单个程序的响应时间。  
		
		
		
		SPOOLing 系统主要包括输入程序模块、输出程序模块、作业调度程序三部分。 
		
		
		
		done... 
		
		
		
		
		
		
		
		
		
		
		
		
		
		







											
														
														
														
														
														
														
											
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											
											
											
											
											
											
											
											
											
											
											
											
											
											
											
											
											
											
											
											
											
											
												 
												 
												 
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												  
												   
												   
												   
												   
												   
												   
												   
												   
												   
												   
												   
												   
												 
												 
												 
												 
												  
												 
												 
												 
												 
												 
												 
												 
												 
												 
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
												
											  
											  
											  
											  
											  
											  
											  
											  
											  
											  
											  
											  
											  
											  
											  
											  
											  
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
											 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										 
										
										
										
										
										
										
										
										
										
										
										
										
										
									  
									  
									  
									  
									  
									  
									  
									  
									  
									  
									  
									  
									  
									  
									
									
								  
								  
								  
								  
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							   
							 
							 
							 
							 
							 
							 
							 
							 
							 
							 
							 
							 
							 
							 
						   
						   
						  
						  
						  
						  
						  
						  
						  
						  
						  
						  
						  

					   
					   
					   
					   
					   
					   
					   
					   
					   
					   
					   
					   
					   
					   
					   
					   
					   
					   
					   
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					  
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					 
					
					
				   
				   
				   
				   
				   
				   
				   
				   
				   
				  
				  
				  
				  
				  
				  
				  
				  
				  
				  
				  
				  
				  
				  
				  
				  
				  
				  
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				 
				
				
				
				
				
				
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			   
			 
			 
			 
			 
			 
			 
			 
			 
			 
		   
		   
		   
		   
		   
		   
		   
		   
		   
		   
		   
		   
		   
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		  
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		  
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		 
		
		
		
		
		
		
		
		
		
		
		
	  
	  
	  
	  
	  
	  
	
	
	
	
 
 
 
   
   